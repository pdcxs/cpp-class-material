# 简明电路描述语言指南

## 基本概念

- **电线**：用**小写字母**命名（如`x`, `y`），每条电线能传输一个**16位数字信号**（取值范围 0-65535）
- **信号来源**：
  - 🎛️ 逻辑门（AND/OR/NOT 等）
  - 📡 其他电线传递的信号
  - 🔢 直接给定的数值
- **重要特性**：
  - 每条电线**只能有一个信号来源**
  - 一条电线可以**同时给多个设备供电**
  - 所有输入信号就绪前，逻辑门不会工作

## 逻辑门操作详解

### 基础操作符

| 表达式示例      | 说明                                 |
| ----------------- | -------------------------------------- |
| `123 -> x`      | 将数值123直接传给电线x              |
| `x -> y`        | 将电线x的信号直接传给电线y          |

### 位运算操作符

| 表达式示例      | 操作说明                             | 等效编程表达式  |
| ----------------- | -------------------------------------- | ---------------- |
| `x AND y -> z`  | 对x和y信号执行按位与操作            | z = x & y      |
| `x OR y -> z`   | 对x和y信号执行按位或操作            | z = x \| y     |
| `NOT x -> y`    | 对x信号执行按位取反（16位）         | y = ~x & 0xFFFF |

### 位移操作符

| 表达式示例      | 操作说明                             | 等效编程表达式  |
|-----------------|--------------------------------------|----------------|
| `x LSHIFT 2 -> y` | 将x信号左移2位                      | y = (x << 2)   |
| `x RSHIFT 3 -> y` | 将x信号右移3位                      | y = (x >> 3)   |

## 实战案例解析

### 案例1: 123 -> x

▸ 电线x直接获得123的信号

### 案例2: x AND y -> z

▸ 当x和y都有信号时，执行x&y后传给z

▸ 若x=3(0011), y=5(0101)，则z=1(0001)

### 案例3: p LSHIFT 2 -> q

▸ 将p的信号左移2位（相当于乘以4）

▸ 若p=5，则q=20

### 案例4: NOT e -> f

▸ 对e的信号按位取反（0变1，1变0）

▸ 若e=0(0000)，则f=65535(1111 1111 1111 1111)

## 问题挑战

1. 给定一个电路描述文件（input.txt），其中包含各种逻辑门和连线的定义，请确定最终**电线a**传递的信号值。
2. 将问题1的电线a的值赋值给电线b，重新计算电线a的值。

💡 提示：这个问题改编自[Advent of Code 2015 Day 7](https://adventofcode.com/2015/day/7)，可以通过构建信号传播系统来解决，需要注意处理信号依赖顺序。
